<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v7.0.0/dist/aframe-extras.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            height: 100%;
            width: 100%;
            background: black;
        }

        .a-enter-vr-button {
            display: none !important;
        }

        #bottom-ui {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 50px 50px;
            box-sizing: border-box;
            z-index: 5;
            display: none;
        }

        .scroll-arrow {
            position: fixed;
            top: 50%;
            transform: translateY(-50%);
            width: 60px;
            height: 60px;
            font-size: 28px;
            color: white;
            background: rgba(0, 0, 0, 0.6);
            cursor: pointer;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
            transition: all 0.3s ease;
            user-select: none;
            z-index: 10;
            opacity: 0;
            pointer-events: none;
            border: 2px solid rgba(255, 255, 255, 0.3);
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            outline: none;
        }

        .scroll-arrow.active {
            opacity: 1;
            pointer-events: all;
        }

        #scroll-left {
            left: 15px;
        }

        #scroll-right {
            right: 15px;
        }

        #model-info {
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 5px;
            max-width: 100%;
        }

        #model-name {
            font-family: 'Arial', sans-serif;
            color: white;
            font-size: 30px;
            font-weight: bold;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 80vw;
        }

        #model-price {
            font-family: 'Arial', sans-serif;
            border-radius: 6px;
            color: white;
            background-color: rgba(30, 144, 255, 0.7);
            font-size: 30px;
            min-width: 100px;
            height: 36px;
            line-height: 36px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            padding: 0 15px;
        }

        a-scene {
            background: linear-gradient(to bottom, #FFFFFF, #808080);
            display: block;
            opacity: 0;
            transition: opacity 0.5s ease;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        a-scene.active {
            opacity: 1;
        }

        #loading-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10;
            color: white;
            font-family: 'Arial', sans-serif;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
            margin-bottom: 15px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        #loading-text {
            margin-top: 10px;
            font-size: 16px;
            text-align: center;
        }

        #welcome-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, #FFFFFF, #808080);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 20;
            color: white;
            font-family: 'Arial', sans-serif;
        }

        /* Logo container styles */
        .logo-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
        }

        .logo-name {
            font-family: 'Arial', sans-serif;
            color: white;
            font-size: 24px;
            font-weight: bold;
            margin-top: 10px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        /* Button Grid Layout */
        .button-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr); /* Always 3 buttons */
            gap: 12px;
            width: 100%;
            max-width: 400px; /* Keep layout tight */
            margin: 0 auto;
            padding: 10px 0;
            justify-items: center;
        }

        .grid-button {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 90px;
            height: 90px;
            padding: 8px;
            font-size: 13px;
            border-radius: 8px;
            overflow: hidden;
            text-align: center;
            white-space: normal;
            font-weight: bold;
            color: white;
        }

        .button-icon {
            width: 28px;
            height: 28px;
            margin-bottom: 5px;
        }

        #logo {
            max-width: 180px;
        }

        /* Responsive adjustments */
        @media (max-width: 600px) {
            .button-container {
                grid-template-columns: repeat(3, 1fr); /* ✅ Fix: Force 3 buttons on small screens too */
            }
        }

        /* Back button styles */
        #back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 80px;
            height: 40px;
            font-size: 16px;
            font-weight: bold;
            color: white;
            background: rgba(0, 0, 0, 0.6);
            cursor: pointer;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
            transition: all 0.3s ease;
            user-select: none;
            z-index: 15;
            opacity: 0;
            pointer-events: none;
            border: 2px solid rgba(255, 255, 255, 0.3);
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            outline: none;
            text-transform: uppercase;
        }
        
        #back-button.active {
            opacity: 1;
            pointer-events: all;
        }
    </style>
</head>
<body>
    <div id="welcome-screen">
        <div class="logo-container">  
            <img id="logo" src="https://arqrassets.s3.ap-south-1.amazonaws.com/CoffeeLogo.png" alt="Logo" />
            <div class="logo-name">ENSO COFFEE</div>
        </div>
        <div class="button-container">
            <button id="view-pdf-button" class="grid-button" style="background: #ff6b6b;">
                <img class="button-icon" src="https://arqrassets.s3.ap-south-1.amazonaws.com/CoffeeLogo.png" alt="Menu" />
                Menu
            </button>
            <button id="view-3d-button" class="grid-button" style="background: #1e90ff;">
                <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 64 64" width="512px" height="512px" baseProfile="basic"><linearGradient id="ig8PaeBg7io5km0NGkidOa" x1="30.35" x2="30.35" y1="8.326" y2="53.524" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#6dc7ff"/><stop offset=".699" stop-color="#e6abff"/></linearGradient><path fill="url(#ig8PaeBg7io5km0NGkidOa)" d="M47.2,20.38l-14.8,8.88c-2.1,1.26-3.4,3.56-3.4,6v16.7l-14.5-8.37c-0.62-0.35-1-1.02-1-1.73 V25.44l9.94,6.12C23.92,31.85,24.46,32,25,32c1.05,0,2.03-0.56,2.57-1.46c0.85-1.41,0.39-3.26-1.03-4.11l-10.05-6.19l14.23-8.21 c0.31-0.18,0.65-0.27,1-0.27c0.36,0,0.7,0.09,1,0.26L47.2,20.38z"/><linearGradient id="ig8PaeBg7io5km0NGkidOb" x1="42.475" x2="42.475" y1="23.517" y2="52.648" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#6dc7ff"/><stop offset=".699" stop-color="#e6abff"/></linearGradient><path fill="url(#ig8PaeBg7io5km0NGkidOb)" d="M35.49,34.41 c-0.3,0.17-0.49,0.51-0.49,0.85v16.38l13.95-8.05c0.62-0.35,1-1.02,1-1.73V25.73L35.49,34.41z M35.49,34.41 c-0.3,0.17-0.49,0.51-0.49,0.85v16.38l13.95-8.05c0.62-0.35,1-1.02,1-1.73V25.73L35.49,34.41z M35,35.26v16.38l13.95-8.05 c0.62-0.35,1-1.02,1-1.73V25.73l-14.46,8.68C35.19,34.58,35,34.92,35,35.26z"/><linearGradient id="ig8PaeBg7io5km0NGkidOc" x1="31.725" x2="31.725" y1="5.554" y2="61.208" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#1a6dff"/><stop offset="1" stop-color="#c822ff"/></linearGradient><path fill="url(#ig8PaeBg7io5km0NGkidOc)" d="M50.95,17.93L34.72,8.56 c-0.92-0.53-1.96-0.8-3-0.8c-1.03,0-2.07,0.27-3,0.8L12.5,17.93c-1.85,1.07-3,3.06-3,5.19v18.74c0,2.14,1.15,4.13,3,5.2 l16.22,9.36c0.93,0.54,1.97,0.8,3.01,0.8c1.03,0,2.07-0.26,2.99-0.8l16.23-9.36c1.85-1.07,3-3.06,3-5.2V23.12 C53.95,20.99,52.8,19,50.95,17.93z M51.95,41.86c0,1.42-0.77,2.75-2,3.46l-16.23,9.37c-0.23,0.13-0.47,0.23-0.72,0.32V35.26 c0-1.04,0.56-2.03,1.46-2.57l17.39-10.43c0.06,0.28,0.1,0.57,0.1,0.86V41.86z M31,55.15c-0.44-0.08-0.88-0.23-1.28-0.46 L13.5,45.32c-1.23-0.71-2-2.04-2-3.46V23.12c0-0.39,0.06-0.78,0.18-1.15l12.81,7.89C24.65,29.95,24.82,30,25,30 c0.34,0,0.67-0.17,0.86-0.49c0.28-0.47,0.13-1.08-0.35-1.37l-12.8-7.88c0.24-0.23,0.5-0.43,0.79-0.6l16.22-9.37 c0.62-0.35,1.31-0.53,2-0.53c0.7,0,1.39,0.18,2,0.53l16.23,9.37c0.38,0.22,0.7,0.5,0.98,0.81l-17.5,10.51 c-1.5,0.9-2.43,2.54-2.43,4.28V55.15z"/></svg>
                3D View
            </button>
            <button id="whatsapp-button" class="grid-button" style="background: #25D366;">
                <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 48 48" width="480px" height="480px" fill-rule="evenodd" clip-rule="evenodd"><path fill="#fff" d="M4.868,43.303l2.694-9.835C5.9,30.59,5.026,27.324,5.027,23.979C5.032,13.514,13.548,5,24.014,5c5.079,0.002,9.845,1.979,13.43,5.566c3.584,3.588,5.558,8.356,5.556,13.428c-0.004,10.465-8.522,18.98-18.986,18.98c-0.001,0,0,0,0,0h-0.008c-3.177-0.001-6.3-0.798-9.073-2.311L4.868,43.303z"/><path fill="#fff" d="M4.868,43.803c-0.132,0-0.26-0.052-0.355-0.148c-0.125-0.127-0.174-0.312-0.127-0.483l2.639-9.636c-1.636-2.906-2.499-6.206-2.497-9.556C4.532,13.238,13.273,4.5,24.014,4.5c5.21,0.002,10.105,2.031,13.784,5.713c3.679,3.683,5.704,8.577,5.702,13.781c-0.004,10.741-8.746,19.48-19.486,19.48c-3.189-0.001-6.344-0.788-9.144-2.277l-9.875,2.589C4.953,43.798,4.911,43.803,4.868,43.803z"/><path fill="#cfd8dc" d="M24.014,5c5.079,0.002,9.845,1.979,13.43,5.566c3.584,3.588,5.558,8.356,5.556,13.428c-0.004,10.465-8.522,18.98-18.986,18.98h-0.008c-3.177-0.001-6.3-0.798-9.073-2.311L4.868,43.303l2.694-9.835C5.9,30.59,5.026,27.324,5.027,23.979C5.032,13.514,13.548,5,24.014,5 M24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974 M24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974 M24.014,4C24.014,4,24.014,4,24.014,4C12.998,4,4.032,12.962,4.027,23.979c-0.001,3.367,0.849,6.685,2.461,9.622l-2.585,9.439c-0.094,0.345,0.002,0.713,0.254,0.967c0.19,0.192,0.447,0.297,0.711,0.297c0.085,0,0.17-0.011,0.254-0.033l9.687-2.54c2.828,1.468,5.998,2.243,9.197,2.244c11.024,0,19.99-8.963,19.995-19.98c0.002-5.339-2.075-10.359-5.848-14.135C34.378,6.083,29.357,4.002,24.014,4L24.014,4z"/><path fill="#40c351" d="M35.176,12.832c-2.98-2.982-6.941-4.625-11.157-4.626c-8.704,0-15.783,7.076-15.787,15.774c-0.001,2.981,0.833,5.883,2.413,8.396l0.376,0.597l-1.595,5.821l5.973-1.566l0.577,0.342c2.422,1.438,5.2,2.198,8.032,2.199h0.006c8.698,0,15.777-7.077,15.78-15.776C39.795,19.778,38.156,15.814,35.176,12.832z"/><path fill="#fff" fill-rule="evenodd" d="M19.268,16.045c-0.355-0.79-0.729-0.806-1.068-0.82c-0.277-0.012-0.593-0.011-0.909-0.011c-0.316,0-0.83,0.119-1.265,0.594c-0.435,0.475-1.661,1.622-1.661,3.956c0,2.334,1.7,4.59,1.937,4.906c0.237,0.316,3.282,5.259,8.104,7.161c4.007,1.58,4.823,1.266,5.693,1.187c0.87-0.079,2.807-1.147,3.202-2.255c0.395-1.108,0.395-2.057,0.277-2.255c-0.119-0.198-0.435-0.316-0.909-0.554s-2.807-1.385-3.242-1.543c-0.435-0.158-0.751-0.237-1.068,0.238c-0.316,0.474-1.225,1.543-1.502,1.859c-0.277,0.317-0.554,0.357-1.028,0.119c-0.474-0.238-2.002-0.738-3.815-2.354c-1.41-1.257-2.362-2.81-2.639-3.285c-0.277-0.474-0.03-0.731,0.208-0.968c0.213-0.213,0.474-0.554,0.712-0.831c0.237-0.277,0.316-0.475,0.474-0.791c0.158-0.317,0.079-0.594-0.04-0.831C20.612,19.329,19.69,16.983,19.268,16.045z" clip-rule="evenodd"/></svg>
                WhatsApp
            </button>
            <button id="instagram-button" class="grid-button" style="background: #E1306C;">
                <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 64 64" width="500px" height="500px"><path fill="url(#TGwjmZMm2W~B4yrgup6jda)" d="M58,54c-1.1,0-2-0.9-2-2s0.9-2,2-2h2.5c1.9,0,3.5-1.6,3.5-3.5S62.4,43,60.5,43H50c-1.4,0-2.5-1.1-2.5-2.5	S48.6,38,50,38h8c1.7,0,3-1.3,3-3s-1.3-3-3-3H42v-6h18c2.3,0,4.2-2,4-4.4c-0.2-2.1-2.1-3.6-4.2-3.6H58c-1.1,0-2-0.9-2-2s0.9-2,2-2	h0.4c1.3,0,2.5-0.9,2.6-2.2c0.2-1.5-1-2.8-2.5-2.8h-14C43.7,9,43,8.3,43,7.5S43.7,6,44.5,6h3.9c1.3,0,2.5-0.9,2.6-2.2	C51.1,2.3,50,1,48.5,1H15.6c-1.3,0-2.5,0.9-2.6,2.2C12.9,4.7,14,6,15.5,6H19c1.1,0,2,0.9,2,2s-0.9,2-2,2H6.2c-2.1,0-4,1.5-4.2,3.6	C1.8,16,3.7,18,6,18h2.5c1.9,0,3.5,1.6,3.5,3.5S10.4,25,8.5,25H5.2c-2.1,0-4,1.5-4.2,3.6C0.8,31,2.7,33,5,33h17v11H6	c-1.7,0-3,1.3-3,3s1.3,3,3,3l0,0c1.1,0,2,0.9,2,2s-0.9,2-2,2H4.2c-2.1,0-4,1.5-4.2,3.6C-0.2,60,1.7,62,4,62h53.8	c2.1,0,4-1.5,4.2-3.6C62.2,56,60.3,54,58,54z"/><radialGradient id="TGwjmZMm2W~B4yrgup6jdb" cx="18.51" cy="66.293" r="69.648" gradientTransform="matrix(.6435 -.7654 .5056 .4251 -26.92 52.282)" gradientUnits="userSpaceOnUse"><stop offset=".073" stop-color="#eacc7b"/><stop offset=".184" stop-color="#ecaa59"/><stop offset=".307" stop-color="#ef802e"/><stop offset=".358" stop-color="#ef6d3a"/><stop offset=".46" stop-color="#f04b50"/><stop offset=".516" stop-color="#f03e58"/><stop offset=".689" stop-color="#db359e"/><stop offset=".724" stop-color="#ce37a4"/><stop offset=".789" stop-color="#ac3cb4"/><stop offset=".877" stop-color="#7544cf"/><stop offset=".98" stop-color="#2b4ff2"/></radialGradient><path fill="url(#TGwjmZMm2W~B4yrgup6jdb)" d="M45,57H19c-5.5,0-10-4.5-10-10V21c0-5.5,4.5-10,10-10h26c5.5,0,10,4.5,10,10v26C55,52.5,50.5,57,45,57z"/><path fill="#fff" d="M32,20c4.6,0,5.1,0,6.9,0.1c1.7,0.1,2.6,0.4,3.2,0.6c0.8,0.3,1.4,0.7,2,1.3c0.6,0.6,1,1.2,1.3,2 c0.2,0.6,0.5,1.5,0.6,3.2C46,28.9,46,29.4,46,34s0,5.1-0.1,6.9c-0.1,1.7-0.4,2.6-0.6,3.2c-0.3,0.8-0.7,1.4-1.3,2 c-0.6,0.6-1.2,1-2,1.3c-0.6,0.2-1.5,0.5-3.2,0.6C37.1,48,36.6,48,32,48s-5.1,0-6.9-0.1c-1.7-0.1-2.6-0.4-3.2-0.6 c-0.8-0.3-1.4-0.7-2-1.3c-0.6-0.6-1-1.2-1.3-2c-0.2-0.6-0.5-1.5-0.6-3.2C18,39.1,18,38.6,18,34s0-5.1,0.1-6.9 c0.1-1.7,0.4-2.6,0.6-3.2c0.3-0.8,0.7-1.4,1.3-2c0.6-0.6,1.2-1,2-1.3c0.6-0.2,1.5-0.5,3.2-0.6C26.9,20,27.4,20,32,20 M32,17 c-4.6,0-5.2,0-7,0.1c-1.8,0.1-3,0.4-4.1,0.8c-1.1,0.4-2.1,1-3,2s-1.5,1.9-2,3c-0.4,1.1-0.7,2.3-0.8,4.1C15,28.8,15,29.4,15,34 s0,5.2,0.1,7c0.1,1.8,0.4,3,0.8,4.1c0.4,1.1,1,2.1,2,3c0.9,0.9,1.9,1.5,3,2c1.1,0.4,2.3,0.7,4.1,0.8c1.8,0.1,2.4,0.1,7,0.1 s5.2,0,7-0.1c1.8-0.1,3-0.4,4.1-0.8c1.1-0.4,2.1-1,3-2c0.9-0.9,1.5-1.9,2-3c0.4-1.1,0.7-2.3,0.8-4.1c0.1-1.8,0.1-2.4,0.1-7 s0-5.2-0.1-7c-0.1-1.8-0.4-3-0.8-4.1c-0.4-1.1-1-2.1-2-3s-1.9-1.5-3-2c-1.1-0.4-2.3-0.7-4.1-0.8C37.2,17,36.6,17,32,17L32,17z"/><path fill="#fff" d="M32,25c-5,0-9,4-9,9s4,9,9,9s9-4,9-9S37,25,32,25z M32,40c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S35.3,40,32,40 z"/><circle cx="41" cy="25" r="2" fill="#fff"/></svg>
                Instagram
            </button>
            <button id="mail-button" class="grid-button" style="background: #D44638;">
                <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 64 64" width="100px" height="100px"><path fill="url(#jUSv56w43tV131KS5vdVHa)" d="M3,3c0-1.657,1.343-3,3-3s3,1.343,3,3S7.657,6,6,6S3,4.657,3,3z M60,58c-1.657,0-3,1.343-3,3	s1.343,3,3,3s3-1.343,3-3S61.657,58,60,58z M60.302,43H44v-7h14.828c2.089,0,3.955-1.527,4.153-3.607C63.209,30.007,61.339,28,59,28	H44v-8h15.828c2.089,0,3.955-1.527,4.153-3.607C64.209,14.007,62.339,12,60,12H47c-1.657,0-3-1.343-3-3s1.343-3,3-3h2.03	C50.67,6,52,4.67,52,3.029V2.971C52,1.33,50.67,0,49.03,0H14.97C13.33,0,12,1.33,12,2.971V3.03C12,4.67,13.33,6,14.97,6h1.53	C18.433,6,20,7.567,20,9.5S18.433,13,16.5,13H3.698c-1.895,0-3.594,1.419-3.693,3.312C-0.101,18.331,1.505,20,3.5,20H20v5H5	c-2.209,0-4,1.791-4,4s1.791,4,4,4h15v8H4.172c-2.089,0-3.955,1.527-4.153,3.606C-0.209,46.992,1.661,49,4,49h10	c2.209,0,4,1.791,4,4v1c0,2.209-1.791,4-4,4h-0.889c-1.451,0-2.781,0.981-3.054,2.406C9.689,62.323,11.149,64,13,64h37.889	c1.451,0,2.781-0.981,3.054-2.406C54.311,59.677,52.851,58,51,58h-1c-2.209,0-4-1.791-4-4s1.791-4,4-4h10.5	c1.995,0,3.601-1.669,3.495-3.688C63.896,44.419,62.197,43,60.302,43z"/><linearGradient id="jUSv56w43tV131KS5vdVHb" x1="32" x2="32" y1="-1.873" y2="71.552" gradientTransform="matrix(1 0 0 -1 0 66)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#005ce2"/><stop offset=".278" stop-color="#0080e8"/><stop offset=".569" stop-color="#009ced"/><stop offset=".82" stop-color="#00b0f1"/><stop offset="1" stop-color="#00b5f2"/></linearGradient><path fill="url(#jUSv56w43tV131KS5vdVHb)" d="M18,8h28c5.523,0,10,4.477,10,10v28c0,5.523-4.477,10-10,10H18c-5.523,0-10-4.477-10-10V18	C8,12.477,12.477,8,18,8z"/><path fill="#fff" d="M24.53,30.18l-10.29,12C14.09,41.82,14,41.42,14,41V23c0-0.54,0.14-1.04,0.38-1.47L24.53,30.18z"/><path fill="#fff" d="M30.59,32.71l-14.67-12.5C16.25,20.07,16.62,20,17,20h30c0.4,0,0.78,0.08,1.13,0.23L34.41,32.65	C33.37,33.59,31.66,33.62,30.59,32.71z"/><path fill="#fff" d="M38.27,31.85l10.12,11.81C47.98,43.88,47.5,44,47,44H17c-0.5,0-0.98-0.12-1.39-0.34l10.44-12.19	l3.24,2.76c0.89,0.75,2.01,1.17,3.18,1.17c1.21,0,2.38-0.45,3.28-1.27L38.27,31.85z"/><path fill="#fff" d="M50,23v18c0,0.42-0.09,0.82-0.24,1.18L39.75,30.51l9.89-8.94C49.87,21.99,50,22.48,50,23z"/><linearGradient id="jUSv56w43tV131KS5vdVHc" x1="16.502" x2="16.502" y1="3.541" y2="58.639" gradientTransform="matrix(1 0 0 -1 0 66)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#005ce2"/><stop offset=".278" stop-color="#0080e8"/><stop offset=".569" stop-color="#009ced"/><stop offset=".82" stop-color="#00b0f1"/><stop offset="1" stop-color="#00b5f2"/></linearGradient><path fill="url(#jUSv56w43tV131KS5vdVHc)" d="M24.99,10.24c0.15,1.5-1.02,2.76-2.49,2.76H15c-0.55,0-1.05,0.22-1.41,0.59	C13.22,13.95,13,14.45,13,15c0,1.1,0.9,2,2,2h1.5c0.83,0,1.5,0.67,1.5,1.5S17.33,20,16.5,20H8v-2c0-5.52,4.48-10,10-10h4.36	C23.67,8,24.86,8.94,24.99,10.24z"/><linearGradient id="jUSv56w43tV131KS5vdVHd" x1="47.998" x2="47.998" y1="5.823" y2="63.776" gradientTransform="matrix(1 0 0 -1 0 66)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#005ce2"/><stop offset=".278" stop-color="#0080e8"/><stop offset=".569" stop-color="#009ced"/><stop offset=".82" stop-color="#00b0f1"/><stop offset="1" stop-color="#00b5f2"/></linearGradient><path fill="url(#jUSv56w43tV131KS5vdVHd)" d="M40.01,53.76C39.86,52.26,41.03,51,42.5,51H47c0.55,0,1.05-0.22,1.41-0.59	C48.78,50.05,49,49.55,49,49c0-1.1-0.9-2-2-2h-1.5c-0.83,0-1.5-0.67-1.5-1.5s0.67-1.5,1.5-1.5H56v2c0,5.52-4.48,10-10,10h-3.36	C41.33,56,40.14,55.06,40.01,53.76z"/></svg>
                Mail
            </button>
            <button id="call-button" class="grid-button" style="background: #34B7F1;">
                <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 48 48" width="480px" height="480px"><path fill="#0f0" d="M13,42h22c3.866,0,7-3.134,7-7V13c0-3.866-3.134-7-7-7H13c-3.866,0-7,3.134-7,7v22	C6,38.866,9.134,42,13,42z"/><path fill="#fff" d="M35.45,31.041l-4.612-3.051c-0.563-0.341-1.267-0.347-1.836-0.017c0,0,0,0-1.978,1.153	c-0.265,0.154-0.52,0.183-0.726,0.145c-0.262-0.048-0.442-0.191-0.454-0.201c-1.087-0.797-2.357-1.852-3.711-3.205	c-1.353-1.353-2.408-2.623-3.205-3.711c-0.009-0.013-0.153-0.193-0.201-0.454c-0.037-0.206-0.009-0.46,0.145-0.726	c1.153-1.978,1.153-1.978,1.153-1.978c0.331-0.569,0.324-1.274-0.017-1.836l-3.051-4.612c-0.378-0.571-1.151-0.722-1.714-0.332	c0,0-1.445,0.989-1.922,1.325c-0.764,0.538-1.01,1.356-1.011,2.496c-0.002,1.604,1.38,6.629,7.201,12.45l0,0l0,0l0,0l0,0	c5.822,5.822,10.846,7.203,12.45,7.201c1.14-0.001,1.958-0.248,2.496-1.011c0.336-0.477,1.325-1.922,1.325-1.922	C36.172,32.192,36.022,31.419,35.45,31.041z"/></svg>
                Call
            </button>
            <button id="review-button" class="grid-button" style="background: #ffc107;">
                <img class="button-icon" src="https://arqrassets.s3.ap-south-1.amazonaws.com/GoogleReview.png" alt="Review" />
                Review Us
            </button>
            <button id="maps-button" class="grid-button" style="background: #4CAF50;">
                <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 80 80" fill="none" class="mx-auto mb-1 h-20 w-20 drop-shadow-xl"><path d="M64.4804 77.9004C47.7169 79.6896 30.9026 79.6896 14.1391 77.9004C7.45472 77.187 2.17505 71.9073 1.46164 65.2224C-0.327547 48.4589 -0.327547 31.6451 1.46164 14.8816C2.17505 8.19727 7.45472 2.9176 14.1391 2.2042C30.9026 0.415007 47.7163 0.415007 64.4798 2.2042C71.1648 2.9176 76.4445 8.19727 77.1579 14.8816C78.947 31.6451 78.947 48.4589 77.1579 65.2224C76.4445 71.9073 71.1654 77.187 64.4804 77.9004Z" fill="white"></path><path d="M44.9239 15.9894C43.1595 15.4319 41.2347 15.1133 39.2697 15.1133C33.6156 15.1133 28.5229 17.6621 25.1144 21.6844L33.8562 28.9724L44.9239 15.9894Z" fill="#1A73E8"></path><path d="M25.114 21.6843C22.4273 24.8703 20.7832 29.0121 20.7832 33.4725C20.7832 36.9373 21.4649 39.7251 22.6278 42.2341L33.8559 28.9723L25.114 21.6843Z" fill="#EA4335"></path><path d="M39.3102 26.4632C43.24 26.4632 46.4079 29.6094 46.4079 33.5123C46.4079 35.2248 45.7663 36.8178 44.7237 38.0523C44.7237 38.0523 50.2976 31.4414 55.7513 25.0295C53.5057 20.7284 49.6159 17.4628 44.9242 15.9893L33.8566 28.9722C35.1799 27.4589 37.1047 26.4632 39.3102 26.4632Z" fill="#4285F4"></path><path d="M39.3097 40.5217C35.3799 40.5217 32.212 37.3755 32.212 33.4726C32.212 31.7602 32.8135 30.1672 33.8561 28.9724L22.6281 42.2342C24.5529 46.4556 27.7609 49.8806 31.0491 54.1418L44.7233 38.0127C43.3999 39.5659 41.4751 40.5217 39.3097 40.5217Z" fill="#FBBC04"></path><path d="M44.4829 58.6021C50.6583 49.0042 57.8362 44.6633 57.8362 33.5123C57.8362 30.4457 57.0743 27.5783 55.751 25.0295L31.0493 54.1417C32.0919 55.4957 33.1746 57.0489 34.2172 58.6419C37.9866 64.4165 36.944 67.8415 39.3501 67.8415C41.7561 67.8415 40.7135 64.3767 44.4829 58.6021Z" fill="#34A853"></path></svg>
                Maps
            </button>
            <button id="contactcard-button" class="grid-button" style="background: #9C27B0;">
                <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 80 80" fill="none" class="mx-auto mb-1 h-20 w-20 drop-shadow-xl"><path d="M65.1097 77.8916C48.3462 79.6808 31.5319 79.6808 14.7683 77.8916C8.08399 77.1782 2.80432 71.8985 2.09092 65.2136C0.301725 48.4501 0.301725 31.6363 2.09092 14.8728C2.80432 8.18848 8.08399 2.90881 14.7683 2.19541C31.5319 0.406218 48.3456 0.406218 65.1091 2.19541C71.7941 2.90881 77.0737 8.18848 77.7871 14.8728C79.5763 31.6363 79.5763 48.4501 77.7871 65.2136C77.0737 71.8985 71.7946 77.1782 65.1097 77.8916Z" fill="#E0E2E2"></path><mask id="mask0_467_8843" maskUnits="userSpaceOnUse" x="0" y="0" width="80" height="80"><path d="M65.1097 77.8916C48.3462 79.6808 31.5319 79.6808 14.7683 77.8916C8.08399 77.1782 2.80432 71.8985 2.09092 65.2136C0.301725 48.4501 0.301725 31.6363 2.09092 14.8728C2.80432 8.18848 8.08399 2.90881 14.7683 2.19541C31.5319 0.406218 48.3456 0.406218 65.1091 2.19541C71.7941 2.90881 77.0737 8.18848 77.7871 14.8728C79.5763 31.6363 79.5763 48.4501 77.7871 65.2136C77.0737 71.8985 71.7946 77.1782 65.1097 77.8916Z" fill="#E0E2E2"></path></mask><g mask="url(#mask0_467_8843)"><path d="M20.8148 79.8579C16.8052 79.7388 15.0118 79.5034 12.7174 78.7952C9.44387 77.7847 6.4155 75.5626 4.41947 72.7067C3.8067 71.8299 2.88672 70.123 2.88672 69.8629C2.88672 69.5238 8.26044 67.1692 11.7649 65.9727C13.0322 65.5401 15.3753 64.8355 16.034 64.689C16.5167 64.5816 18.7388 63.9396 19.9456 63.5589C21.7334 62.9948 22.6999 62.4412 23.0426 61.7848C23.1961 61.4909 23.564 59.7037 23.7512 58.3424C23.8041 57.9577 23.8975 57.3041 23.9588 56.8898C24.1502 55.5958 24.1173 55.3234 23.7184 54.8993C22.3098 53.4016 21.6975 51.9627 21.3601 49.358C21.1921 48.0614 20.7285 45.7754 20.5646 45.4354C20.492 45.2848 20.1811 45.028 19.8736 44.8645C19.0521 44.4278 18.7049 43.8275 18.4898 42.4717C18.332 41.4771 18.1644 40.8902 17.5791 39.2834C17.1782 38.1827 16.9873 37.0912 17.0279 36.1312C17.0613 35.3431 17.1013 35.1889 17.3379 34.9383C17.5767 34.6853 17.6666 34.6582 18.0827 34.714C18.4697 34.7659 18.5448 34.7488 18.495 34.6202C18.1548 33.7423 17.6743 29.6654 17.3707 25.0803C17.2671 23.516 17.63 21.7822 18.3998 20.1629C19.0284 18.8409 19.7628 18.0579 20.6832 17.7286C20.9647 17.6278 21.3418 17.4906 21.5211 17.4235C21.7004 17.3565 22.152 17.0006 22.5248 16.6326C23.9535 15.2221 25.17 14.487 27.1344 13.8469C27.812 13.6261 28.8633 13.2584 29.4706 13.0299C30.9758 12.4635 31.9535 12.2689 33.3645 12.2548C35.2413 12.2361 36.4128 12.5045 39.1775 13.5866C40.0441 13.9257 41.2664 14.3544 41.8939 14.5391C44.257 15.2349 45.6379 16.1455 46.3485 17.4765C46.5476 17.8495 46.9004 18.4401 47.1326 18.7889C47.9132 19.9619 48.0772 20.4026 48.3582 22.082C48.8519 25.032 48.6057 29.0197 47.6838 33.0031C47.3066 34.633 47.2847 34.7785 47.4166 34.7785C47.4796 34.7785 47.5614 34.7301 47.5983 34.6709C47.7122 34.4884 48.1424 34.5517 48.3994 34.7888C48.7714 35.1321 48.8741 35.4998 48.8769 36.5001C48.8801 37.5893 48.6486 38.713 48.0904 40.3198C47.8642 40.9707 47.6247 41.9073 47.5582 42.4011C47.3949 43.6136 46.9417 44.4724 46.3099 44.7669C46.0624 44.8823 45.7762 45.0684 45.6739 45.1806C45.2977 45.5933 45.0365 46.717 44.4408 50.4857C44.1468 52.3458 43.6202 53.5021 42.5288 54.6841L41.9824 55.2759L42.0364 56.6746C42.112 58.6333 42.4883 61.0522 42.8258 61.7479C43.4107 62.9539 44.6759 63.5279 49.4267 64.7426C55.0371 66.177 57.6198 67.0748 62.6139 69.327C62.8646 69.44 63.3781 69.5325 63.4411 69.5325L63.4531 79.3741C63.1946 79.5323 60.9726 79.7681 57.7576 79.8605C53.7522 79.9756 24.7091 79.9735 20.8148 79.8579L20.8148 79.8579Z" fill="#9A9A9A"></path><path d="M62.8892 0.853516C63.0444 0.879987 63.199 0.908267 63.3529 0.938333C63.9684 1.0586 64.5728 1.20743 65.1647 1.38334C65.7565 1.55925 66.3357 1.76224 66.9006 1.9908C67.4656 2.21937 68.0164 2.47352 68.5515 2.75175C69.0865 3.02999 70.4325 2.66624 70.9345 2.99115C71.4365 3.31606 71.8938 3.69137 72.3596 4.05997C72.8254 4.42857 73.2723 4.81827 73.6988 5.22756C74.1254 5.63686 75.182 5.7506 75.5661 6.19761C75.9502 6.64461 75.94 7.49725 76.2786 7.97897C76.6172 8.4607 77.0575 8.89061 77.3474 9.40406C77.6374 9.91751 78.1781 10.6432 78.4162 11.1854C78.6544 11.7276 78.1358 12.6031 78.3191 13.171C78.5024 13.739 78.6472 14.5137 78.7725 15.1044C78.8978 15.6951 78.2549 16.2193 78.3191 16.8298C78.3834 17.4402 78.4162 18.0599 78.4162 18.6871V19.9045L62.8892 19.9045V10.651V0.853516Z" fill="#C9C8C4"></path><path d="M68.6113 14.6028L70.2561 10.498H70.8639L72.616 14.6028H71.9679L71.4718 13.3589H69.684L69.2147 14.6028H68.6113ZM69.8449 12.9171H71.2975L70.8505 11.7805C70.7015 11.4002 70.6002 11.1171 70.5466 10.9313C70.493 11.1943 70.4155 11.4545 70.3142 11.7119L69.8449 12.9171Z" fill="#676362"></path><path d="M78.4162 19.8712L79.1288 21.5171C79.1288 27.7565 79.4851 33.5384 79.4851 39.7778H62.8892V30.2299V19.8711L78.4162 19.8712Z" fill="#4FC9F8"></path><path d="M69.0327 32.259V28.1543H70.6373C71.1319 28.1543 71.4917 28.258 71.7166 28.4653C71.9416 28.6726 72.0541 28.9192 72.0541 29.2051C72.0541 29.5969 71.8544 29.8871 71.4552 30.0758C71.9945 30.2274 72.2641 30.5591 72.2641 31.0709C72.2641 31.863 71.7308 32.259 70.6641 32.259H69.0327ZM69.6003 29.8785H70.5255C70.7341 29.8785 70.9047 29.865 71.0373 29.8378C71.1699 29.8106 71.2801 29.7492 71.368 29.6534C71.4559 29.5576 71.4999 29.4296 71.4999 29.2695C71.4999 29.1036 71.4604 28.9714 71.3814 28.8727C71.3024 28.7741 71.1929 28.7105 71.0529 28.6819C70.9129 28.6533 70.7132 28.639 70.454 28.639H69.6003V29.8785ZM69.6003 31.7743H70.6641C70.8041 31.7743 70.9278 31.7679 71.035 31.755C71.1423 31.7422 71.2481 31.7086 71.3524 31.6542C71.4567 31.5999 71.5364 31.5234 71.5915 31.4248C71.6466 31.3261 71.6742 31.2082 71.6742 31.0709C71.6742 30.8479 71.5997 30.6742 71.4507 30.5498C71.3017 30.4254 71.0142 30.3632 70.5881 30.3632H69.6003V31.7743Z" fill="#1C627A"></path><path d="M79.8413 39.6948L80.1976 45.0311C80.1976 50.3924 79.1288 53.2083 79.1288 58.5695L78.4162 59.7994L62.8892 59.7995V49.7995V39.6948H79.8413Z" fill="#47D86F"></path><path d="M71.945 50.5974L72.5126 50.7347C72.2683 51.6497 71.6768 52.1072 70.7382 52.1072C70.05 52.1072 69.5434 51.9006 69.2186 51.4874C68.8938 51.0742 68.7314 50.5631 68.7314 49.954C68.7314 49.2621 68.9251 48.7409 69.3125 48.3907C69.6998 48.0404 70.1781 47.8652 70.7472 47.8652C71.6321 47.8652 72.1953 48.2627 72.4366 49.0576L71.8824 49.1863C71.6917 48.6144 71.3103 48.3285 70.7382 48.3285C70.2764 48.3285 69.9233 48.4714 69.679 48.7574C69.4347 49.0433 69.3125 49.4422 69.3125 49.954C69.3125 50.546 69.4443 50.9756 69.708 51.2429C69.9717 51.5103 70.3002 51.644 70.6936 51.644C71.3699 51.644 71.7871 51.2951 71.945 50.5974Z" fill="#10782D"></path><path d="M78.4162 59.7993V61.3996C78.4162 62.0268 78.3834 62.6465 78.3191 63.2569C78.2549 63.8674 78.1594 64.4687 78.0341 65.0594C77.9087 65.6501 78.5024 67.0855 78.3191 67.6535C78.1358 68.2214 77.5856 68.8935 77.3474 69.4357C77.1093 69.9779 76.9248 71.0284 76.6349 71.5418C76.345 72.0553 76.2609 72.6948 75.9223 73.1766C75.5838 73.6583 74.8813 73.4421 74.4972 73.8891C74.1132 74.3361 73.8549 75.2612 73.4284 75.6705C73.0019 76.0798 72.1129 75.6581 71.6471 76.0267C71.1813 76.3953 71.0802 76.4144 70.5782 76.7393C70.0763 77.0642 69.0865 77.0567 68.5515 77.335C68.0164 77.6132 67.4656 77.8673 66.9006 78.0959C66.3357 78.3245 65.7565 78.5275 65.1647 78.7034C64.5728 78.8793 63.9684 79.0281 63.3529 79.1484C63.199 79.1784 63.0444 79.2067 62.8892 79.2332V69.4357V59.7994L78.4162 59.7993Z" fill="#FF9327"></path><path d="M69.0509 69.9602V65.8555H70.5258C70.8059 65.8555 71.0554 65.874 71.2745 65.9112C71.4934 65.9484 71.7035 66.0435 71.9047 66.1965C72.1058 66.3494 72.2696 66.5682 72.3963 66.8527C72.5229 67.1372 72.5862 67.4811 72.5862 67.8842C72.5862 68.5019 72.4335 69.0023 72.1281 69.3854C71.8227 69.7686 71.311 69.9602 70.5929 69.9602H69.0509ZM69.6185 69.4755H70.5303C70.9057 69.4755 71.1933 69.4226 71.3929 69.3168C71.5925 69.211 71.7445 69.0344 71.8488 68.7871C71.9531 68.5398 72.0052 68.2359 72.0052 67.8757C72.0052 67.624 71.9791 67.4039 71.927 67.2151C71.8749 67.0264 71.7966 66.8677 71.6924 66.739C71.5881 66.6104 71.4555 66.5117 71.2946 66.4431C71.1337 66.3745 70.8744 66.3401 70.5169 66.3401H69.6185V69.4755Z" fill="#884308"></path></g></svg>
                Contact Card
            </button>
        </div>
    </div>

    <div id="loading-screen">
        <div class="spinner"></div>
        <div id="loading-text">Loading 3D Models...</div>
    </div>

    <button id="back-button" class="back-button">Back</button>

    <div id="scroll-left" class="scroll-arrow">&#10094;</div>
    <div id="scroll-right" class="scroll-arrow">&#10095;</div>

    <div id="bottom-ui">
        <div id="model-info">
            <div id="model-name">Loading...</div>
            <div id="model-price">Loading...</div>
        </div>
    </div>

    <a-scene embedded>
        <a-assets id="dynamic-assets"></a-assets>
        <a-entity id="cameraRig">
            <a-camera position="0 1.6 0" look-controls="enabled: false"></a-camera>
        </a-entity>
        <a-entity id="model-container" position="0 1.6 -2">
            <a-entity id="model-parent" position="0 0 0" drag-rotate scale="5 5 5">
                <!-- Models will be added here -->
            </a-entity>
        </a-entity>
        <a-entity environment="preset: default; groundColor: #445; grid: none"></a-entity>
    </a-scene>

    <script>
        // Register drag-rotate component
        AFRAME.registerComponent('drag-rotate', {
            schema: {
                speed: { type: 'number', default: 0.5 }
            },
            init: function () {
                this.pitch = THREE.MathUtils.degToRad(30);
                this.yaw = 0;
                this.dragging = false;
                this.startX = 0;
                this.startY = 0;
                this.updateRotation();

                this.onMouseDown = (e) => {
                    this.dragging = true;
                    this.startX = e.clientX;
                    this.startY = e.clientY;
                };

                this.onMouseMove = (e) => {
                    if (!this.dragging) return;
                    const dx = e.clientX - this.startX;
                    const dy = e.clientY - this.startY;

                    this.yaw += dx * 0.02 * this.data.speed;
                    this.pitch += dy * 0.02 * this.data.speed;

                    this.pitch = THREE.MathUtils.clamp(this.pitch, THREE.MathUtils.degToRad(-90), THREE.MathUtils.degToRad(90));

                    this.startX = e.clientX;
                    this.startY = e.clientY;
                    this.updateRotation();
                };

                this.onMouseUp = () => { this.dragging = false; };

                this.onTouchStart = (e) => {
                    if (e.touches.length === 1) {
                        this.dragging = true;
                        this.startX = e.touches[0].clientX;
                        this.startY = e.touches[0].clientY;
                    }
                };

                this.onTouchMove = (e) => {
                    if (!this.dragging || e.touches.length !== 1) return;
                    const dx = e.touches[0].clientX - this.startX;
                    const dy = e.touches[0].clientY - this.startY;

                    this.yaw += dx * 0.02 * this.data.speed;
                    this.pitch += dy * 0.02 * this.data.speed;

                    this.pitch = THREE.MathUtils.clamp(this.pitch, THREE.MathUtils.degToRad(-90), THREE.MathUtils.degToRad(90));

                    this.startX = e.touches[0].clientX;
                    this.startY = e.touches[0].clientY;
                    this.updateRotation();
                };

                this.onTouchEnd = () => { this.dragging = false; };

                window.addEventListener('mousedown', this.onMouseDown);
                window.addEventListener('mousemove', this.onMouseMove);
                window.addEventListener('mouseup', this.onMouseUp);
                window.addEventListener('touchstart', this.onTouchStart, { passive: false });
                window.addEventListener('touchmove', this.onTouchMove, { passive: false });
                window.addEventListener('touchend', this.onTouchEnd);
            },
            updateRotation: function () {
                this.el.object3D.rotation.set(this.pitch, this.yaw, 0);
            },
            remove: function () {
                window.removeEventListener('mousedown', this.onMouseDown);
                window.removeEventListener('mousemove', this.onMouseMove);
                window.removeEventListener('mouseup', this.onMouseUp);
                window.removeEventListener('touchstart', this.onTouchStart);
                window.removeEventListener('touchmove', this.onTouchMove);
                window.removeEventListener('touchend', this.onTouchEnd);
            }
        });

        // Main application
        document.addEventListener('DOMContentLoaded', function() {
            const welcomeScreen = document.getElementById("welcome-screen");
            const viewPdfButton = document.getElementById("view-pdf-button");
            const view3dButton = document.getElementById("view-3d-button");
            const whatsappButton = document.getElementById("whatsapp-button");
            const instagramButton = document.getElementById("instagram-button");
            const mailButton = document.getElementById("mail-button");
            const callButton = document.getElementById("call-button");
            const reviewButton = document.getElementById("review-button");
            const mapsButton = document.getElementById("maps-button");
            const contactCardButton = document.getElementById("contactcard-button");
            const scrollLeftBtn = document.getElementById("scroll-left");
            const scrollRightBtn = document.getElementById("scroll-right");
            const backButton = document.getElementById("back-button");
            const modelName = document.getElementById("model-name");
            const modelPrice = document.getElementById("model-price");
            const assets = document.getElementById("dynamic-assets");
            const modelParent = document.getElementById("model-parent");
            const loadingScreen = document.getElementById("loading-screen");
            const loadingText = document.getElementById("loading-text");
            const scene = document.querySelector("a-scene");
            const bottomUI = document.getElementById("bottom-ui");

            let modelData = [];
            let currentModelIndex = 0;
            let modelEntities = [];
            let modelsLoaded = false;

            const ZOOM_MIN = 5;
            const ZOOM_MAX = 12;
            const ZOOM_DEFAULT = 5;
            let zoomFactor = ZOOM_DEFAULT;

            // Initialize the app
            async function initApp() {
                // Show loading screen while loading models
                loadingScreen.style.display = 'flex';
                
                // Load model data and create model entities
                modelData = await fetchGoogleSheetCSV();
                
                if (modelData.length > 0) {
                    // Create all model entities but keep them hidden
                    await createModelEntities(modelData);
                    modelsLoaded = true;
                    
                    viewPdfButton.addEventListener('click', () => {
                        // Open PDF in new tab
                        window.open(modelData[currentModelIndex].pdfUrl || 'https://drive.google.com/file/d/1Tc_l1N5MjnIFsxc0RwFMzpGb3a8SXzf1/view?usp=drive_link', '_blank');
                    });

                    view3dButton.addEventListener('click', () => {
                        // Hide welcome screen and show 3D viewer
                        welcomeScreen.style.display = 'none';
                        show3DViewer();
                    });

                    // Set up WhatsApp button click handler
                    whatsappButton.addEventListener('click', () => {
                        const phoneNumber = '1234567890'; 
                        const message = 'Hello, I have a question about your products';
                        window.open(`https://wa.me/${+918128955751}?text=${encodeURIComponent(message)}`, '_blank');
                    });

                    instagramButton.addEventListener('click', () => {
                        window.open('https://www.instagram.com/enso_coffee/?igsh=OTBhOXBtbmpwbndn&utm_source=qr#', '_blank');
                    });
                    
                    mailButton.addEventListener('click', () => {
                        window.location.href = 'mailto:EnsoCoffee@gmail.com';
                    });
                    
                    callButton.addEventListener('click', () => {
                        window.location.href = 'tel:+918128955751';
                    });

                    reviewButton.addEventListener('click', () => {
                        // Link to Google Review Page
                        window.open('https://www.google.com/search?sca_esv=1610bf8db0cd784a&si=APYL9bs7Hg2KMLB-4tSoTdxuOx8BdRvHbByC_AuVpNyh0x2KzbrE-avML43XGCdCMRxBAfaRL06yPrbpc2-iTElBUCLTpmK8hpx2Gmy28L8wBxq7L2PpjcXhHsTjpA2RbHPpvTCcSKJ5&q=Enso+Coffee+Reviews&sa=X&ved=2ahUKEwit4P-QydyMAxW57DQHHcJkCXEQ0bkNegQILxAE&biw=1536&bih=746&dpr=1.25#lrd=0x3be04f4e6ecbd6e1:0x1b236882f850925a,3', '_blank');
                    });
                    
                    mapsButton.addEventListener('click', () => {
                        // Link to Google Maps location
                        window.open('https://www.google.com/maps?sca_esv=1610bf8db0cd784a&uact=5&gs_lp=Egxnd3Mtd2l6LXNlcnAiCWVuc28gY2FmZTIOEC4YgAQYxwEYjgUYrwEyBRAAGIAEMgUQABiABDIFEAAYgAQyBRAAGIAEMgUQABiABDIFEAAYgAQyBRAAGIAEMgUQABiABDIFEAAYgAQyHRAuGIAEGMcBGI4FGK8BGJcFGNwEGN4EGOAE2AEBSP8GUABYvgRwAHgBkAEBmAGWAqAB8AeqAQUwLjQuMbgBA8gBAPgBAZgCBKAC9AXCAgoQABiABBhDGIoFwgITEC4YgAQYQxjHARiKBRiOBRivAcICDRAAGIAEGEMYyQMYigXCAgsQABiABBiSAxiKBcICCxAuGIAEGMcBGK8BwgIiEC4YgAQYQxjHARiKBRiOBRivARiXBRjcBBjeBBjgBNgBAZgDALoGBggBEAEYFJIHAzAuNKAHmTOyBwMwLjS4B_QF&um=1&ie=UTF-8&fb=1&gl=in&sa=X&geocode=KeHWy25OT-A7MVqSUPiCaCMb&daddr=301,+Sunday+Hub,+near+Ankur+School,+Katargam,+Surat,+Gujarat+395004', '_blank');
                    });
                    
                    contactCardButton.addEventListener('click', () => {
                        // Link to VCF/Contact page or contact info
                        window.open('https://arqrassets.s3.ap-south-1.amazonaws.com/ENSO+COFEE.vcf', '_blank');
                    });
                    
                    loadingScreen.style.display = 'none';
                } else {
                    loadingText.textContent = "No models available";
                    viewPdfButton.disabled = true;
                    view3dButton.disabled = true;
                    viewPdfButton.textContent = "No Models Available";
                    view3dButton.textContent = "No Models Available";
                }
            }

            // Update visible model
            function updateVisibleModel() {
                modelEntities.forEach((model, i) => {
                    model.setAttribute('visible', i === currentModelIndex);
                });

                if (modelData[currentModelIndex]) {
                    modelName.textContent = modelData[currentModelIndex].name;
                    modelPrice.textContent = modelData[currentModelIndex].price;
                }

                // Reset zoom and rotation
                zoomFactor = ZOOM_DEFAULT;
                modelParent.setAttribute('scale', `${zoomFactor} ${zoomFactor} ${zoomFactor}`);
                
                const comp = modelParent.components['drag-rotate'];
                if (comp) {
                    comp.pitch = THREE.MathUtils.degToRad(45);
                    comp.yaw = 0;
                    comp.updateRotation();
                }
            }

            // Set up button events
            function setupButtonEvents() {
                const changeModel = (dir) => {
                    currentModelIndex = (currentModelIndex + dir + modelEntities.length) % modelEntities.length;
                    updateVisibleModel();
                };

                scrollLeftBtn.addEventListener("click", () => changeModel(-1));
                scrollRightBtn.addEventListener("click", () => changeModel(1));
                
                // Add back button event
                backButton.addEventListener("click", () => {
                    // Hide 3D viewer and show welcome screen
                    scene.classList.remove('active');
                    scrollLeftBtn.classList.remove('active');
                    scrollRightBtn.classList.remove('active');
                    bottomUI.style.display = 'none';
                    backButton.classList.remove('active');
                    welcomeScreen.style.display = 'flex';
                });
            }

            // Fetch model data from Google Sheets
            async function fetchGoogleSheetCSV() {
                loadingText.textContent = "Fetching model data...";
                
                try {
                    const proxy = "https://api.allorigins.win/raw?url=";
                    const sheetUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTKjBezjVa5ZwSJrTxN3rsgZ8GIT3h9ySMyKqEfV1SkSMAge3OPyvh_r9-eK6JQAKza4i0S-0puOo64/pub?gid=0&single=true&output=csv";
                    const response = await fetch(proxy + encodeURIComponent(sheetUrl));
                    const text = await response.text();
                    const results = Papa.parse(text, { header: true });
                    
                    return results.data.map(row => {
                        return {
                            name: row['Model Name'] || 'Unknown',
                            price: row['Price'] || 'N/A',
                            url: row['Model URL'] || '',
                            pdfUrl: row['PDF URL'] || ''
                        };
                    }).filter(model => model.url || model.pdfUrl);
                } catch (error) {
                    console.error("Error loading model data:", error);
                    loadingText.textContent = "Error loading data. Please try again.";
                    return [];
                }
            }

            // Create model entities
            function createModelEntities(models) {
                return new Promise((resolve) => {
                    let loadedCount = 0;
                    const totalModels = models.filter(model => model.url).length;
                    
                    if (totalModels === 0) {
                        resolve();
                        return;
                    }
                    
                    modelEntities = models.map((model, index) => {
                        if (!model.url) {
                            return null;
                        }

                        const assetId = `model-${index}`;
                        const assetItem = document.createElement('a-asset-item');
                        assetItem.setAttribute('id', assetId);
                        assetItem.setAttribute('src', model.url);
                        assets.appendChild(assetItem);

                        const entity = document.createElement('a-entity');
                        entity.setAttribute('gltf-model', `#${assetId}`);
                        entity.setAttribute('position', '0 0 0');
                        entity.setAttribute('visible', 'false');
                        entity.setAttribute('class', 'model-entity');
                        
                        entity.addEventListener('model-loaded', () => {
                            loadedCount++;
                            loadingText.textContent = `Loading models (${loadedCount}/${totalModels})...`;
                            
                            if (loadedCount === totalModels) {
                                resolve();
                            }
                        });
                        
                        entity.addEventListener('error', () => {
                            console.error(`Failed to load model: ${model.url}`);
                            loadedCount++;
                            if (loadedCount === totalModels) {
                                resolve();
                            }
                        });
                        
                        modelParent.appendChild(entity);
                        return entity;
                    }).filter(entity => entity !== null);
                });
            }

            // Show 3D viewer
            function show3DViewer() {
                // Make scene visible
                scene.classList.add('active');
                
                // Setup UI elements
                setupButtonEvents();
                scrollLeftBtn.classList.add('active');
                scrollRightBtn.classList.add('active');
                bottomUI.style.display = 'flex';
                backButton.classList.add('active');
                
                // Show the first model
                updateVisibleModel();
            }

            // Zoom functions
            function applyZoom() {
                zoomFactor = Math.max(ZOOM_MIN, Math.min(ZOOM_MAX, zoomFactor));
                modelParent.setAttribute('scale', `${zoomFactor} ${zoomFactor} ${zoomFactor}`);
            }

            function zoomIn() {
                zoomFactor *= 1.1;
                applyZoom();
            }

            function zoomOut() {
                zoomFactor /= 1.1;
                applyZoom();
            }

            // Event listeners for zoom
            window.addEventListener('wheel', (e) => {
                e.preventDefault();
                if (e.deltaY < 0) zoomIn();
                else zoomOut();
            }, { passive: false });

            let initialPinchDistance = null;
            window.addEventListener('touchstart', (e) => {
                if (e.touches.length === 2) {
                    const dx = e.touches[0].clientX - e.touches[1].clientX;
                    const dy = e.touches[0].clientY - e.touches[1].clientY;
                    initialPinchDistance = Math.sqrt(dx * dx + dy * dy);
                }
            });

            window.addEventListener('touchmove', (e) => {
                if (e.touches.length === 2 && initialPinchDistance) {
                    e.preventDefault();
                    const dx = e.touches[0].clientX - e.touches[1].clientX;
                    const dy = e.touches[0].clientY - e.touches[1].clientY;
                    const currentPinchDistance = Math.sqrt(dx * dx + dy * dy);
                    
                    if (currentPinchDistance > initialPinchDistance * 1.05) zoomIn();
                    else if (currentPinchDistance < initialPinchDistance * 0.95) zoomOut();
                    
                    initialPinchDistance = currentPinchDistance;
                }
            }, { passive: false });

            // Start the application
            initApp();
        });
    </script>
</body>
</html>